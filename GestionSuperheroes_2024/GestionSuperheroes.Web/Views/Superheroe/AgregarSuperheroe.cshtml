@model GestionSuperheroes.Web.Models.SuperheroeViewModel
@using GestionSuperheroes.Data.EF
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<h2 class="mb-4">Agregar Nuevo Superheroe</h2>

@* Mostrar errores del servidor *@
@Html.ValidationSummary(true, "", new { @class = "text-danger mb-3" })

<form method="post" asp-action="AgregarSuperheroe" class="row g-3">
    @Html.AntiForgeryToken()

    <div class="col-md-3">
        <label for="NombreSuperheroe" class="form-label">Nombre Superheroe</label>
        <input type="Text" class="form-control" id="NombreSuperheroe" name="NombreSuperheroe" required />
        <small class="text-muted">Ingresa el nombre del superheroe.</small>
    </div>

    <div class="col-md-6">
        <label for="IdUniverso" class="form-label">Universo</label>
        <select class="form-select" id="IdUniverso" name="IdUniverso" required>
            <option value="" disabled selected>Seleccione un destino</option>
            @foreach (var universo in (List<Universo>)ViewBag.universos)
            {
                @if (ViewBag.EscuderiaSeleccionada == universo.IdUniverso)
                {
                    <option selected value="@universo.IdUniverso">@universo.NombreUniverso</option>
                }
                else
                {
                    <option value="@universo.IdUniverso">@universo.NombreUniverso</option>
                }
            }
        </select>
    </div>

    <div class="col-12">
        <button type="submit" class="btn btn-primary">Registrar Superheroe</button>
        <a asp-action="ListarSuperheroes" class="btn btn-link">Ver listado de Superheroes</a>
    </div>
</form>

@section Scripts {
    @* Habilita validación cliente si tienes la partial *@
    @await Html.PartialAsync("_ValidationScriptsPartial")
}